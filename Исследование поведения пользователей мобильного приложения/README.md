# Исследование поведения пользователей мобильного приложения

## Описание проекта

Мы работаем в стартапе, который продаёт продукты питания.

**Цель исследования** — проанализировать, как ведут себя пользователи нашего мобильного приложения.

**Задачи**:

- Изучить воронку продаж. Узнать, как пользователи доходят до покупки. Выяснить, сколько пользователей доходят до покупки, а сколько — «застревают» на предыдущих шагах. Определить, на каких именно шагах «застревают» пользователи.

- Исследовать результаты A/A/B-эксперимента.

Дизайнеры захотели поменять шрифты во всём приложении, а менеджеры испугались, что пользователям будет непривычно. Договорились принять решение по результатам A/A/B-теста. Пользователей разбили на 3 группы: 2 контрольные со старыми шрифтами и одну экспериментальную — с новыми. 

- Выяснить, какой шрифт лучше.

## Данные

- Название события

- Уникальный идентификатор пользователя

- Время события

- Номер эксперимента: 246 и 247 — контрольные группы, а 248 — экспериментальная

## Используемые библиотеки

*pandas*

*matplotlib*

*seaborn*

*plotly*

*numpy*

*scipy*

## Общий вывод

В логе существует пять уникальных событий: «CartScreenAppear», «MainScreenAppear», «OffersScreenAppear», «PaymentScreenSuccessful» и «Tutorial». Порядок событий по количеству пользователей соответствует порядку событий по частоте встречаемости. Наиболее распространённым событием является «MainScreenAppear». Оно встречается 113 тыс. 264 раза и почти все пользователи мобильного приложения его совершили — 7 тыс. 344 человека, что составляет 98.47% от общего числа уникальных пользователей. Практически в три раза реже можно встретить событие «OffersScreenAppear» — 40 тыс. 956 раз. Данное событие совершили 4 тыс. 517 пользователей — 60.57% от всех пользователей. Ещё реже происходят такие события, как «CartScreenAppear» и «PaymentScreenSuccessful» — 29 тыс. 250 раз и 22 тыс. 164 раза соответственно. Событие событие «CartScreenAppear» совершили 3 тыс. 658 пользователей — 49.05%, событие «PaymentScreenSuccessful» — 3 тыс. 463 пользователя — 46.43%. Наименее популярным событием является «Tutorial» — его можно встретить только 981 раз и его совершило наименьшее количество уникальных пользователей — 824 человека, что составляет 11.05% от общего количества уникальных пользователей.

Можно предположить, что все события образуют последовательную цепочку, за исключением обучающего этапа: просмотр главной страницы приложения → переход на страницу товара → добавление товара в корзину → успешная оплата покупки. Главную страницу мобильного приложения открыли 7 тыс. 344 пользователя, из них только 4 тыс. 517 (61.51%) перешли на страницу товара. Добавили товар в корзину 3 тыс. 658 человек (80.98% от просматривавших товар), из которых 3 тыс. 463 (94.67% от добавивших в корзину) достигли страницы с успешной оплатой покупки.

Наибольшее число пользователей теряется после первого этапа воронки. На шаге «OffersScreenAppear» после «MainScreenAppear» наблюдается резкое снижение конверсии. 38.49% пользователей не перешли с главной страницы на страницу с предложениями товаров. Это может быть связано с не совсем удачной структурой главной страницы: пользователи могут испытывать затруднения при поиске нужного товара среди множества категорий и подразделов. Главная страница должна привлекать внимание посетителя к наиболее значимым элементам. Желательно использовать наглядные изображения товаров и визуальные подсказки для улучшения пользовательского опыта. На следующих этапах потери пользователей не такие существенные. 19.02% от просматривавших товар ничего не добавили в корзину. Можно использовать всплывающие уведомления с интересными для посетителей предложениями, что позволит увеличить их вовлечённость. 5.33% от добавивших товар в корзину так и не произвели оплату. Может, письма с напоминанием о брошенной коризине смогут увеличить конверсию.

Чуть меньше половины пользователей — 47.15% — прошли через всю воронку событий (за исключением «Tutorial»), начиная от просмотра главной страницы приложения и заканчивая успешной оплатой товара. Для повышения конверсии в оплату можно улучшить дизайн и навигацию приложения, чтобы сделать его удобным и интуитивно понятным для пользователей; предоставить персонализированный контент, основываясь на предпочтениях пользователей; оптимизировать процесс оформления заказа, делая его быстрым и простым; интегрировать различные способы оплаты и доставки; обеспечить обратную связь и поддержку клиентов, оперативно отвечая на их вопросы и решая возникающие проблемы.

Было выявлено, что во всех группах A/A/B-теста оказалось примерно одинаковое количество пользователей мобильного приложения. Чуть больше пользователей попало в экспериментальную группу B с номером 248 — 2 тыс. 511 человек, что составляет 33.67% от общего количества уникальных пользователей. В контрольной группе A с номером 247 — 2 тыс. 491 пользователь — 33.4% — на 0.27% меньше, чем в группе B. В контрольной группе A с номером 246 оказалось 2 тыс. 456 пользователей — 32.93% — на 0.74% меньше, чем в группе B. Разница между числом пользователей в контрольных группах составляет 0.47% (меньше 1%), что является одним из показателей успешного A/A-теста.

Ещё один критерий успешности A/A-теста — отсутствие статистически значимого различия ключевых метрик по группам. Была посчитана статистическая значимость различия конверсий между группами 246 и 247 со старыми шрифтами в приложении для всех событий. Был применён z-тест, так как проверялась гипотеза о равенстве двух долей выборок. В качестве уровня статистической значимости было использовано значение 0.05. Для самого популярного события «MainScreenAppear» p-value составило 67.31%, для «OffersScreenAppear» — 27.7%, для «CartScreenAppear» — 26.3%, для «PaymentScreenSuccessful» — 13.59%, что больше заданного уровня значимости, равного 5%. Таким образом, нет оснований отвергнуть нулевую гипотезу. A/A-тест можно считать успешным, так как различие конверсий по группам 246 и 247 для каждого из событий не имеет статистической значимости. Разбиение на 2 контрольные группы было проведено корректно.

Также были проанализированы результаты A/B-теста. Для проверки гипотез о равенстве двух пропорций выборок применялся z-тест. В качестве уровня статистической значимости использовалось значение 0.05.

Была определена статистическая значимость различий в конверсиях для всех событий между контрольной группой 246 со старыми шрифтами в мобильном приложении и экспериментальной группой 248 с изменёнными шрифтами. Для наиболее популярного события «MainScreenAppear» p-значение составило 24.38%, для «OffersScreenAppear» — 21.75%, для «CartScreenAppear» — 8.32%, для «PaymentScreenSuccessful» — 22.39%, что превышает установленный уровень значимости, равный 5%. Следовательно, нет оснований отклонить нулевую гипотезу. Различия в конверсиях между группами 246 и 248 для каждого события не имеют статистической значимости. Можно сделать промежуточный вывод о том, что изменение шрифтов не повлияло на потребительское поведение пользователей мобильного приложения.

Была рассчитана статистическая значимость различий конверсий для всех событий между контрольной группой 247 со старыми шрифтами и экспериментальной группой 248 с изменёнными шрифтами. Для самого популярного события «MainScreenAppear» p-значение составило 45.45%, для «OffersScreenAppear» — 88.51%, для «CartScreenAppear» — 53.97%, для «PaymentScreenSuccessful» — 78.01%, что больше заданного уровня значимости, равного 5%. Таким образом, нет причин отвергнуть нулевую гипотезу. Разница в конверсиях между группами 247 и 248 для каждого события не является статистически значимой. Мы получили дополнительное подтверждение того, что изменение шрифтов не повлияло на действия пользователей мобильного приложения. P-значения для групп 247 и 248 больше, чем для групп 246 и 248. Это указывает на меньшую статистическую значимость различий между конверсиями в этих группах по сравнению с группами 246 и 248.

И наконец была рассчитана статистическая значимость различия конверсий для всех событий между объединённой контрольной группой со старыми шрифтами и экспериментальной группой с новыми шрифтами. Для самого популярного события «MainScreenAppear» p-value составило 26.19%, для «OffersScreenAppear» — 42.8%, для «CartScreenAppear» — 17.62%, для «PaymentScreenSuccessful» — 59.09%, что выше установленного уровня значимости, равного 5%. Значит, нет оснований для того, чтобы отвергать нулевую гипотезу. Различие конверсий между объединённой контрольной группой (246+247) со старыми шрифтами и экспериментальной группой (248) с новыми шрифтами для всех событий не является статистически значимым, что в очередной раз указывает на отсутствие влияния смены шрифтов на покупательское поведение пользователей мобильного приложения.

В общей сложности было проведено 16 проверок статистических гипотез о равенстве конверсий (4 проверки между контрольными группами и 12 проверок между контрольными и экспериментальной группами), и ни в одном случае не было обнаружено статистически значимой разницы между группами A/A/B-теста. Нами применялась множественная проверка гипотез, так как было выполнено несколько параллельных статистических тестов на одних и тех же данных. Чтобы снизить групповую вероятность ошибки первого рода, можно было бы уменьшить уровень статистической значимости. Было определено, какой уровень значимости следовало бы использовать при множественной проверке гипотез. Был применён метод Бонферрони. После корректировки по методу Бонферрони уровень значимости составил 0.003. Однако если бы этот уровень значимости использовался для проверки гипотез, результат остался бы тем же. Нулевые гипотезы не были бы отклонены, поскольку все вычисленные p-значения превышают 5%, а значит, и 0.3%.

Основываясь на результатах всех проверок гипотез, нельзя сделать вывод о статистически значимом различии конверсий между группами со старыми шрифтами и группой с обновлёнными шрифтами по четырём событиям: «MainScreenAppear», «OffersScreenAppear», «CartScreenAppear» и «PaymentScreenSuccessful». Потребительское поведение пользователей в приложении со старыми шрифтами не отличается от поведения с новыми шрифтами. Поэтому, если есть необходимость изменить шрифты во всём приложении, это можно сделать. Также можно не рисковать и оставить прежние шрифты, либо продолжить тестирование и принять решение позже, учитывая небольшую продолжительность эксперимента в одну неделю и чуть более высокие значения конверсий у контрольных групп по сравнению с экспериментальной.
