# Приоритизация гипотез по увеличению выручки интернет-магазина и анализ A/B-теста

## Описание проекта

В основе исследования крупного интернет-магазина лежат гипотезы для увеличения его выручки.

**Цель исследования** — приоритизировать гипотезы по увеличению выручки интернет-магазина, запустить A/B-тест и проанализировать результаты.

## Данные

9 гипотез по увеличению выручки интернет-магазина с указанными параметрами Reach, Impact, Confidence, Effort.

Гипотезы:
    
- Краткое описание гипотезы

- Охват пользователей по 10-балльной шкале

- Влияние на пользователей по 10-балльной шкале

- Уверенность в гипотезе по 10-балльной шкале

- Затраты ресурсов на проверку гипотезы по 10-балльной шкале

Чем больше значение `Efforts`, тем дороже проверка гипотезы.

Заказы:
    
- Идентификатор заказа

- Идентификатор пользователя, совершившего заказ

- Дата, когда был совершён заказ

- `Выручка заказа

- Группа A/B-теста, в которую попал заказ (A или B)

Посетители:

- Дата

- Группа A/B-теста (A или B)

- Количество пользователей в указанную дату в указанной группе A/B-теста

## Используемые библиотеки

*pandas*

*matplotlib*

*numpy*

*scipy*

## Общий вывод

Были приоритизированы 9 гипотез по увеличению выручки интернет-магазина для максимизации ожидаемого улучшения ключевых метрик бизнеса. Приоритизация осуществлялась двумя способами: с применением фреймворков ICE и RICE.

Наиболее перспективной по ICE является гипотеза «Запустить акцию, дающую скидку на товар в день рождения» (ICE равен 16.2). Данная гипотеза получила 9 баллов из 10 при оценке влияния на пользователей и уверенности в гипотезе и 5 баллов по затратам ресурсов на проверку гипотезы. Однако у гипотезы, связанной со скидкой на товар в день рождения, охват пользователей равен 1 баллу, поэтому он не оказал влияния на RICE (равен 16.2). 

Причиной низкого охвата пользователей может являться то, что среди посетителей магазина мало тех, кто является именинником при покупке товаров, так как день рождения бывает только один раз в году. Некоторые пользователи могут не успеть или не захотеть воспользоваться скидкой в день рождения. 

К более приоритетным по ICE можно также отнести следующие гипотезы: «Добавить два новых канала привлечения трафика, что позволит привлекать на 30% больше пользователей» (ICE равен 13.3) и «Добавить форму подписки на все основные страницы, чтобы собрать базу клиентов для email-рассылок» (ICE равен 11.2). 

Добавление параметра, связанного с охватом пользователей, привело к изменению приоритетов гипотез по увеличению выручки интернет-магазина. По RICE самая перспективная гипотеза — это «Добавить форму подписки на все основные страницы, чтобы собрать базу клиентов для email-рассылок» (RICE равен 112). В 2 раза меньше RICE (равен 56) у гипотезы «Добавить блоки рекомендаций товаров на сайт интернет магазина, чтобы повысить конверсию и средний чек заказа». Третье место по приоритету (RICE равен 40) занимают две гипотезы — «Добавить два новых канала привлечения трафика, что позволит привлекать на 30% больше пользователей» и «Показать на главной странице баннеры с актуальными акциями и распродажами, чтобы увеличить конверсию».

У наиболее приоритетной по RICE и входящей в топ-3 по приоритету по ICE гипотезы «Добавить форму подписки на все основные страницы, чтобы собрать базу клиентов для email-рассылок» охват пользователей оценён в 10 баллов из 10, влияние на пользователей — в 7 баллов, уверенность в гипотезе — в 8 баллов, затраты ресурсов на проверку гипотезы — в 5 баллов. Форма подписки может быть размещена на всех основных страницах сайта, что обеспечит максимальный охват пользователей. Могут быть получены целевые подписчики, заинтересованные в продуктах интернет-магазина. Они могут стать частью сообщества, что укрепит связь с брендом и увеличит лояльность. Рассылка новостей, статей и специальных предложений поможет поддерживать интерес аудитории и стимулировать её к совершению покупок.

Был проведён A/B-тест и проанализированы его результаты. В группу A вошли 445 посетителей интернет-магазина (43.2%), в группу B — 528 посетителей (51.2%), в обе группы сразу — 58 посетителей (5.6%). Эксперимент длился 1 месяц. Участники теста заходили в интернет-магазин с 1 по 31 августа 2019 года.
    
В самом начале теста более высокая выручка была у группы A, но уже на 2-й день группа B вырвалась вперёд и продолжала лидировать до конца теста. У группы A увеличение выручки происходило равномерно. У группы B с 18 по 19 августа произошёл резкий рост выручки с 2 млн. 686 тыс. до 4 млн. 116 тыс., что указывает на увеличение количества заказов, появление дорогостоящих заказов в выборке. В последний день эксперимента кумулятивная выручка группы A составила 4 млн. 84 тыс., тогда как кумулятивная выручка группы B — 5 млн. 907 тыс.

Значение кумулятивного среднего чека 31 августа у группы A составило 7 тыс. 333, а группы B — 9 тыс. 230. Таким образом, к концу теста средний чек группы B оказался на 25.9% выше среднего чека группы A.

Значение кумулятивного среднего количества заказов на посетителя на протяжении всего теста, кроме начального периода, было выше у группы B — 0.033-0.035, чем у группы A — 0.029-0.03. В конце теста прирост среднего количества заказов на пользователя группы B составил 13.8% относительно группы A.

Попадание слишком дорогого заказа в одну из групп теста сказывается на его результатах. Стоимость почти всех заказов в интернет-магазине меньше 94 тыс., а стоимость большинства из них не превышает 20 тыс. Не более 5% заказов дороже 28 тыс. и не более 1% дороже 58 тыс. 233. Есть 2 выброса — заказы на 202 тыс. 740 и на 1 млн. 294 тыс. 500.

Пользователи, оформившие много заказов, оказывают сильное влияние на конверсию. Большая часть посетителей интернет-магазина, участвующих в A/B-тестировании, совершала один заказ. Не более 5% пользователей совершали больше двух заказов, не более 1% — больше четырёх заказов. Среди пользователей, попавших в группы A и B одновременно, встречаются те, кто сделал заказ 8, 9 и 11 раз.

За аномальных пользователей были приняты те, кто совершил 3 заказа или оформил заказ дороже 30 тыс. Так были исключены 5% пользователей с наибольшим числом заказов, а также от 1% до 5% пользователей с дорогими заказами. Всего было удалено 68 аномальных пользователей для получения «очищенных» данных.

Была определена статистическая значимость различий в среднем чеке заказа между группами A и B. Расчёты проводились с учётом аномальных пользователей и после удаления аномалий. По «сырым» данным p-value составил 72.9%, а по «очищенным» — 72%, что значительно больше заданного уровня значимости, равного 5%, поэтому в обоих случаях не удалось отвергнуть нулевую гипотезу об отсутствии статистически значимых различий в среднем количестве заказов между группами.

По «сырым» данным средний чек группы B намного выше среднего чека группы A — относительное различие равно 25.9%. По «очищенным» данным средний чек группы B чуть ниже среднего чека группы A — относительное различие равно -2.31%.

Также была рассчитана статистическая значимость различий в среднем количестве заказов на посетителя между группами A/B-теста без удаления аномальных пользователей и после фильтрации аномалий. По «сырым» данным p-value составил 1.7%, а по «очищенным» — 1.3%, что меньше заданного уровня значимости, равного 5%, поэтому в обоих случаях была отвергнута нулевая и принята альтернативная гипотеза о существовании статистически значимых различий в среднем количестве заказов между группами.

Относительный прирост среднего числа заказов на пользователя группы B к конверсии группы A по «очищенным» данным получился равным 17.2%, что на 3.4% больше, чем по «сырым» данным.

Исходя из результатов анализа, A/B-тест можно остановить, признав победу группы B. Конверсия группы B лучше, чем у группы A, и это статистически значимо. При этом стоит обратить внимание на отсутствие статистически значимого различия в среднем чеке заказа между группами, несмотря на то что по «сырым» данным средний чек группы B выше среднего чека группы A. Если есть время и ресурсы, можно продолжить тестирование и проследить за дальнейшими изменениями данной метрики.
